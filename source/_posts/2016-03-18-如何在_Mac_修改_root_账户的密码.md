---
layout: post
title:  "Mac 上如何修改 MySQL root 账户的密码？"
date:   2016-03-18 16:10:08 +0800
categories: mac
---

## 1）关闭 MySQL 服务；

1. 第一种方式（命令行）：


		// 查看当前活跃的 mysql 服务进程id
		$ ps -ef | grep mysql
		
		    0 75405 75266   0 10:33下午 ttys001    0:00.01 sudo ./mysqld_safe --skip-grant-tables
		    0 75409 75405   0 10:33下午 ttys001    0:00.02 /bin/sh ./mysqld_safe --skip-grant-tables
		   74 75496 75409   0 10:33下午 ttys001    0:00.48 /usr/local/mysql/bin/mysqld --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --skip-grant-tables --log-error=/usr/local/mysql/data/MikeLindeMBP.lan.err --pid-file=/usr/local/mysql/data/MikeLindeMBP.lan.pid
		  502 75642 75318   0 10:43下午 ttys003    0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn mysql
		  502 75537 75511   0 10:35下午 ttys004    0:00.01 /usr/local/mysql/bin/mysql -uroot -p
		  
		  // kill 掉当前进程
		  $ sudo kill 75266
		  
2. 第一种方式（可视化客户端）：

![image](/images/mac/mysql.png)


## 2）使用安全模式开启 MySQL 服务；
	
	$ cd /usr/local/mysql/bin
	$ sudo mysqld_safe --skip-grant-tables &
		
		[1] 75405
		➜  bin git:(master) 2016-03-18T14:33:56.6NZ mysqld_safe Logging to '/usr/local/mysql/data/MikeLindeMBP.lan.err'.
		2016-03-18T14:33:56.6NZ mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/data
	
	这时 MySQL 服务会自动启动。

## 3）登录到 MySQL，修改 root 密码；

	// 安全模式下不用密码登录
	$ mysql

		Welcome to the MySQL monitor.  Commands end with ; or \g.
		Your MySQL connection id is 2
		Server version: 5.7.11 MySQL Community Server (GPL)
		
		Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.
		
		Oracle is a registered trademark of Oracle Corporation and/or its
		affiliates. Other names may be trademarks of their respective
		owners.
		
		Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
	
	
	mysql> FLUSH PRIVILEGES;
		Query OK, 0 rows affected (0.01 sec)
	
	// 设置新密码
	mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('root');
		Query OK, 0 rows affected, 1 warning (0.00 sec)
	
	
## 4）使用新密码登录 root 账户；

	$ mysql -uroot -proot
	
		mysql: [Warning] Using a password on the command line interface can be insecure.
		Welcome to the MySQL monitor.  Commands end with ; or \g.
		Your MySQL connection id is 60
		Server version: 5.7.11 MySQL Community Server (GPL)
		
		Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.
		
		Oracle is a registered trademark of Oracle Corporation and/or its
		affiliates. Other names may be trademarks of their respective
		owners.
		
		Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
		
	
