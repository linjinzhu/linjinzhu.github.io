---
layout: post
title:  "找到静态库里占用包体积的罪魁祸首"
date:   2016-05-26 09:10:08 +0800
categories: iOS
---

#### 使用场景

1. 找到占用体积比较大的文件，重点优化，缩减包大小；
2. 找到影响包大小的罪魁祸首；

#### 需要的工具

- lipo
- tar
- [listFileSize](/download/listFileSize)

#### 步骤
 
##### 1) 解压缩静态库文件

如果是 thin 静态库，直接解压缩；
	
	$ tar -zxvf filePath -C destFilePath

如果是 fat 文件，需要先拆解成 thin 文件，再解压缩；

	$ lipo -thin armv7 filePath -output destFilePath
	$ tar -zxvf filePath -C destFilePath

##### 2）显示.o文件大小

listOfFileSize 是自己写的一个小程序，用来过滤文件夹里**文件大于指定值**的 "*.o" 文件，并且输出所有 *.o 文件的大小。
 
	$ listFileSize filePath minSize
	
 ![image](/images/others/listFileSize.png)