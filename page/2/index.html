<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="x">
<meta property="og:type" content="website">
<meta property="og:title" content="柱子哥的后院">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="柱子哥的后院">
<meta property="og:description" content="x">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="柱子哥的后院">
<meta name="twitter:description" content="x">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title> 柱子哥的后院 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">柱子哥的后院</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">x</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/17/在亚马逊云上使用_ubuntu_系统实例/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="柱子哥">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="柱子哥的后院">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="柱子哥的后院" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/17/在亚马逊云上使用_ubuntu_系统实例/" itemprop="url">
                  在亚马逊云上使用 Ubuntu 系统实例
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-17T16:10:08+08:00">
                2016-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#远程登录">远程登录</a></li>
<li><a href="#创建账户">创建账户</a></li>
<li><a href="#安装软件">安装软件</a></li>
</ul>
<h2 id="远程登录"><a href="#远程登录" class="headerlink" title="远程登录"></a><span id="远程登录">远程登录</span></h2><p>在亚马逊云上创建了实例之前，必须创建一个秘钥对，实例上保留公钥，本地下载私钥。实例安装完毕，默认安装了 ssh server，通过 ssh 方式登录时必须指定服务器对应的私钥才能登录。下面是登录亚马逊实例的本地命令：</p>
<pre><code>ssh -i &quot;amazon-private.pem&quot; ubuntu@ec2-52-192-155-235.ap-northeast-1.compute.amazonaws.com
</code></pre><h2 id="创建账户"><a href="#创建账户" class="headerlink" title="创建账户"></a><span id="创建账户">创建账户</span></h2><p><strong>设置 root 用户</strong>。Ubuntu 系统安装好之后默认没有 root 账户的密码，第一次启动时需要设置一个 root 密码，使用命令 <code>sudo passwd</code> ，会提示你输入两次新密码，这个密码就是 root 账户密码。使用命令 <code>su root</code> 即可切换到 root 账户下。</p>
<p><strong>创建新用户</strong>。使用 <code>useradd</code> 创建新用户，etc：</p>
<pre><code>useradd -d &quot;/home/wusong&quot; -m -s &quot;/bin/bash&quot; wusong
</code></pre><p><strong>修改用户信息</strong>。使用 <code>usermod</code> 更新用户信息，etc：</p>
<pre><code>usermod wusong -L # 锁定用户
usermod wusong -U # 解锁用户
</code></pre><p><strong>删除用户</strong>。使用 <code>userdel</code> 删除用户，etc：</p>
<pre><code>userdel wusong
</code></pre><p><strong>查看用户信息</strong>。使用 <code>who</code>、<code>whoami</code> 、<code>whois</code>、<code>finger</code>。例如执行 <code>who -a</code> 命令的输出结果为：</p>
<pre><code>root@ip-172-31-19-15:/home/ubuntu# who -a
system boot  Mar 17 09:46
run-level 2  Mar 17 09:46
LOGIN      tty4         Mar 17 09:46              1057 id=4
LOGIN      tty5         Mar 17 09:46              1060 id=5
LOGIN      tty2         Mar 17 09:46              1064 id=2
LOGIN      tty3         Mar 17 09:46              1065 id=3
LOGIN      tty6         Mar 17 09:46              1067 id=6
LOGIN      tty1         Mar 17 09:46              1187 id=1
LOGIN      ttyS0        Mar 17 09:46              1188 id=tyS0
ubuntu   + pts/0        Mar 17 09:47   .          1288 (221.219.105.121)
</code></pre><p><strong>为用户加系统权限</strong>。执行命令</p>
<pre><code>sudo vim /etc/sudoers
</code></pre><p>修改文件如下：</p>
<pre><code># User privilege specification
root ALL=(ALL) ALL
wusong ALL=(ALL) ALL
</code></pre><p>保存退出，wusong 用户就拥有了 root 权限。</p>
<h2 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a><span id="安装软件">安装软件</span></h2><h3 id="在-Ubuntu-中安装-MySQL。"><a href="#在-Ubuntu-中安装-MySQL。" class="headerlink" title="在 Ubuntu 中安装 MySQL。"></a>在 Ubuntu 中安装 MySQL。</h3><pre><code># 安装 mysql 服务器端
$ sudo apt-get install mysql-server
</code></pre><p>安装过程中会提示输入 root 账户的密码，输入两次密码。安装完成之后会自动启动，需要检查 Mysql 程序是否正常启动。</p>
<pre><code># 检查 MySQL 服务器系统进程
$ ps -aux|grep mysql
mysql     2825  0.0  4.9 623920 50420 ?        Ssl  09:55   0:01 /usr/sbin/mysqld
root      3765  0.0  0.0  10436   928 pts/0    S+   11:01   0:00 grep --color=auto mysql

# 检查 MySQL 服务器占用端口
$ netstat -nlt|grep 3306
tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN

# 通过启动命令检查 MySQL 服务器状态
$ sudo /etc/init.d/mysql status
* /usr/bin/mysqladmin  Ver 8.42 Distrib 5.5.47, for debian-linux-gnu on x86_64
Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Server version        5.5.47-0ubuntu0.14.04.1
Protocol version    10
Connection        Localhost via UNIX socket
UNIX socket        /var/run/mysqld/mysqld.sock
Uptime:            1 hour 12 min 19 sec

Threads: 1  Questions: 581  Slow queries: 0  Opens: 189  Flush tables: 1  Open tables: 41  Queries per second avg: 0.133

# 通过系统服务命令检查 MySQL 服务器状态
mysql start/running, process 2825
</code></pre><p>修改服务器配置。默认情况下，MySQL的字符集是latin1，因此在存储中文的时候，会出现乱码的情况，所以我们需要把字符集统一改成UTF-8。</p>
<p>用 vim 打开 MySQL 服务器的配置文件 my.cnf</p>
<pre><code>$ sudo vim /etc/mysql/my.cnf
# 在[client]标签下，增加客户端的字符编码
[client]
default-character-set=utf8

# 在[mysqld]标签下，增加服务器端的字符编码
[mysqld]
character-set-server=utf8
collation-server=utf8_general_ci
</code></pre><p>让 MySQL 可以被远程访问。默认情况下，MySQL 服务器不允许远程访问，只允许本机访问，所以我们需要设置打开远程访问的功能。</p>
<pre><code>$ sudo vim /etc/mysql/my.cnf
# 注释掉 bind-address
#bind-address            = 127.0.0.1
</code></pre><p>修改后，重启MySQL服务器。</p>
<pre><code>$ sudo /etc/init.d/mysql restart
* Stopping MySQL database server mysqld                                                                                                                                    [ OK ]
 * Starting MySQL database server mysqld                                                                                                                                    [ OK ]
 * Checking for tables which need an upgrade, are corrupt or were
not closed cleanly.
</code></pre><p>检查修改是否正确。root 用户登录。</p>
<pre><code># 查看数据库字符集编码
$ show variables like &apos;%char%&apos;;
+--------------------------+----------------------------+
| Variable_name            | Value                      |
+--------------------------+----------------------------+
| character_set_client     | utf8                       |
| character_set_connection | utf8                       |
| character_set_database   | utf8                       |
| character_set_filesystem | binary                     |
| character_set_results    | utf8                       |
| character_set_server     | utf8                       |
| character_set_system     | utf8                       |
| character_sets_dir       | /usr/share/mysql/charsets/ |
+--------------------------+----------------------------+
8 rows in set (0.00 sec)

# 检查 MySQL 服务器占用端口
$ netstat -nlt|grep 3306
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN
</code></pre><p>创建用户，为用户指定可以操作的数据库。</p>
<pre><code># 使用 root 账户登录
$ mysql -uroot -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 74
Server version: 5.5.47-0ubuntu0.14.04.1 (Ubuntu)

Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.

# 创建 speedtest 数据库
mysql&gt; create database speedtest;
Query OK, 1 row affected (0.00 sec)

mysql&gt; use speedtest
Database changed
mysql&gt; create table speedtest(id int,name varchar(16) not null);
Query OK, 0 rows affected (0.01 sec)

# 新建 wusong 用户，密码为 wusong，允许 wusong 可以远程访问 speedtest 数据库，授权 wusong 对 speedtest 进行所有数据库操作
mysql&gt; GRANT ALL ON speedtest.* to wusong@&apos;%&apos; IDENTIFIED BY &apos;wusong&apos;;
Query OK, 0 rows affected (0.00 sec)

# 允许 wusong 可以本地访问 speedtest 数据库，授权 wusong 对 speedtest 进行所有数据库操作
mysql&gt; GRANT ALL ON speedtest.* to wusong@localhost IDENTIFIED BY &apos;wusong&apos;;
Query OK, 0 rows affected (0.00 sec)
</code></pre><p>检查配置是否生效。</p>
<pre><code># 使用 wusong 用户登陆
$ mysql -uwusong -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 75
Server version: 5.5.47-0ubuntu0.14.04.1 (Ubuntu)

Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| speedtest          |
+--------------------+
2 rows in set (0.00 sec)
</code></pre><p>重启MySQL</p>
<p>更详细的 MySQL 安装和使用信息<a href="http://blog.fens.me/linux-mysql-install/" target="_blank" rel="external">点击这里</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/17/Xcode_缩小静态文件包体积/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="柱子哥">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="柱子哥的后院">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="柱子哥的后院" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/17/Xcode_缩小静态文件包体积/" itemprop="url">
                  Xcode 如何减小 66% 的包体积
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-17T16:10:08+08:00">
                2016-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#原理">原理</a></li>
<li><a href="#工程配置">工程配置</a></li>
<li><a href="#检查和测试">检查和测试</a></li>
</ul>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a><span id="原理">原理</span></h2><p><em>Xcode 默认设置打包时，会为每种架构构建交叉编译可执行文件，架构包括：arm64、armv7、armv7s、armv6、i386、x86_64，但实际上，iOS 设备并没有这么架构，减小包体积可以从优化打包时的架构集入手。</em></p>
<pre><code>armv7 是 iphone5 之前的设备指令集架构；
armv7s 是 iphone5、iphone 5s 的指令集架构；
arm64 是 iphone6、iphone 6plus 的指令集架构；
i386 以及 x86_64 是 MAC 的指令集架构；
</code></pre><p><em>Xcode 编译过程中不仅仅产生目标架构的二进制文件，还会有些中间产物，这些中间产物也会被打包进二进制文件，如何让这些中间产物不被打包到二进制文件，也是一个减小包体积的手段。</em></p>
<p>看看 Xcode 里相关的设置项的作用 ( <a href="https://developer.apple.com/library/mac/documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html" target="_blank" rel="external">点击这里</a> 查看官方文档)：</p>
<p><strong>Valid Architectures （VALID_ARCHS）</strong></p>
<p><img src="/images/apple/valid_architectures.png" alt="image"></p>
<blockquote>
<p>A space-separated list of architectures for which the target should actually be built. For each target, this list is intersected with the list specified in ‘Architectures’, and the resulting set is built. This allows individual targets to “opt out” of building for particular architectures. If the resulting set of architectures is empty, no executable will be produced. [VALID_ARCHS]</p>
</blockquote>
<p>一个用空格分割的将被真正编译的架构列表。对于每个 target，会用这个列表里的指令集架构交叉构建。这会允许每个 target 编译特殊的架构。如果架构集列表是空的，将不会产出可执行文件。</p>
<p><strong>Build Active Architecture Only （ONLY_ACTIVE_ARCH）</strong></p>
<p><img src="/images/apple/build_active_architectures_only.png" alt="image"></p>
<blockquote>
<p>When checked, only the active architecture is built for faster debugging turnaround</p>
</blockquote>
<p>如果是 YES，为了更快的调试，仅仅 active 架构会被构建。</p>
<p><strong>Strip Debug Symbols During Copy（COPY_PHASE_STRIP）</strong></p>
<p><img src="/images/apple/strip_debug_symbols_during_copy.png" alt="image"></p>
<blockquote>
<p>Activating this setting causes binary files which are copied during the build (e.g., in a Copy Bundle Resources or Copy Files build phase) to be stripped of debugging symbols.  It does not cause the linked product of a target to be stripped (use Strip Linked Product for that). [COPY_PHASE_STRIP]</p>
</blockquote>
<p>激活这个设置会导致编译过程中被复制的二进制文件（比如复制的资源文件和编译剪短的复制文件）跳过 debugging symbols。这不会导致链接到 target 的 product 被跳过。</p>
<p><strong>Generate Debug Symbols （GCC_GENERATE_DEBUGGING_SYMBOLS）</strong></p>
<p><img src="/images/apple/generate_debug_symbols.png" alt="image"></p>
<p>开启或关闭生成 debug symbols。当这个开关被打开，等级详情将会被 “Level of Debug Symbols” 这个设置所控制。</p>
<p><img src="/images/apple/level_of_debug_symbols.png" alt="image"></p>
<p><a href="http://bdunagan.com/2010/05/15/symbolification-shipping-symbols/" target="_blank" rel="external">点击查看</a> 相关文章</p>
<h2 id="工程配置"><a href="#工程配置" class="headerlink" title="工程配置"></a><span id="工程配置">工程配置</span></h2><ul>
<li><code>VALID_ARCHS</code> 设置为 <code>arm64 armv7</code>.</li>
<li><code>ONLY_ACTIVE_ARCH</code> 设置为 <code>YES</code>.</li>
<li><code>COPY_PHASE_STRIP</code> 设置为 <code>YES</code>.</li>
<li><code>GCC_GENERATE_DEBUGGING_SYMBOLS</code> 设置为 <code>NO</code>.</li>
</ul>
<h2 id="检查和测试"><a href="#检查和测试" class="headerlink" title="检查和测试"></a><span id="检查和测试">检查和测试</span></h2><ul>
<li><p>检查更改设置后的包大小。更改设置之前，<code>Release-iphoneos/*.a</code> 文件大小是 56.9MB，更改设置之后，文件大小是 29.1MB，包体积减小了 66%。</p>
</li>
<li><p>在不同的设备上运行打包后的程序，是否能正常运行。分别在下面几种机型上测试，看能否正常运行，以及运行速度。 </p>
<pre><code>iPhone 4 | iPhone 4s armv7 指令集架构
iPhone 5 | iPhone 5s armv7s 指令集架构
iPhone 6 | iPhone 6 plus arm64 指令集架构
</code></pre></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/05/在_mac_上使用_jenkins_搭建_ios_持续集成环境/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="柱子哥">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="柱子哥的后院">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="柱子哥的后院" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/05/在_mac_上使用_jenkins_搭建_ios_持续集成环境/" itemprop="url">
                  在 Mac 上使用 Jenkins 搭建 iOS 持续集成环境
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-05T16:10:08+08:00">
                2016-03-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/jenkins-iOS/" itemprop="url" rel="index">
                    <span itemprop="name">jenkins iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="下载安装-Jenkins"><a href="#下载安装-Jenkins" class="headerlink" title="下载安装 Jenkins"></a>下载安装 Jenkins</h2><ol>
<li>在 <a href="http://mirrors.jenkins-ci.org/war/latest/jenkins.war" target="_blank" rel="external">Jenkins</a> 官网下载 jenkins.war；</li>
<li>配置环境变量 JENKINS_HOME。<ul>
<li>创建 jenkins home 目录：<code>~/jenkins/home</code> ；</li>
<li>在 ~/.bash_profile 文件追加 <code>export JENKINS_HOME=~/jenkins/home</code>，如果~/.bash_profile 文件不存在要先创建。使用 <code>source ~/.bash_profile</code> 命令让 JENKINS_HOME 马上生效；</li>
</ul>
</li>
<li>将 jenkins.war 文件放到 <code>~/jenkins/bin</code> 目录下，目录可以自定义，后面介绍启动命令时会用到 jenkins.war 的路径。</li>
<li><p>启动 jenkins：</p>
<pre><code>$ nohup java -jar /Applications/jenkins.war --httpPort=8080 &amp;
</code></pre></li>
<li><p>自定义启动、停止、显示进程脚本<em>(可以忽略不看)</em>。</p>
<ul>
<li><p>自定义启动脚本，在 <code>~/jenkins/bin/</code> 目录下创建 startup.sh 文件：</p>
<pre><code>#!/bin/bash

nohup java -jar jenkins.war --httpPort=8080 &amp;
</code></pre></li>
<li><p>自定义停止脚本，在 <code>~/jenkins/bin/</code> 目录下创建 shutdown.sh 文件：</p>
<pre><code>#!/bin/bash

ps x|grep jenkins|grep -v grep |awk &apos;{print $1}&apos;|xargs kill -9
</code></pre></li>
<li><p>自定义显示进程的脚本，在 <code>~/jenkins/bin/</code> 目录下创建 showpid.sh 文件：</p>
<pre><code>#!/bin/bash

ps x|grep jenkins|grep -v grep |awk &apos;{print $1}&apos;
</code></pre></li>
<li><p>为脚本添加可执行权限：</p>
<pre><code>$ chmod a+x startup.sh
$ chmod a+x shutdown.sh
$ chmod a+x showpid.sh
</code></pre></li>
<li><p>启动 jenkins 的命令就变成了 <code>sh ~/jenkins/bin/startup.sh</code>，关闭 ： <code>sh ~/jenkins/bin/shutdown.sh</code>，显示进程 ：<code>sh ~/jenkins/bin/showpid.sh</code>。 </p>
</li>
</ul>
</li>
</ol>
<h2 id="配置-Jenkins"><a href="#配置-Jenkins" class="headerlink" title="配置 Jenkins"></a>配置 Jenkins</h2><h3 id="注册用户"><a href="#注册用户" class="headerlink" title="注册用户"></a>注册用户</h3><ol>
<li>允许用户注册。用浏览器访问 <a href="http://localhost:8080，进入" target="_blank" rel="external">http://localhost:8080，进入</a> <code>Manage Jenkins &gt; Configure Global Security</code>，点选 Jenkins’ own user database，勾选 <code>Allow users to sign up</code>；</li>
<li>注册用户。现在在右上角可以看到注册按钮，点击注册用户；</li>
</ol>
<h3 id="安装-git-插件"><a href="#安装-git-插件" class="headerlink" title="安装 git 插件"></a>安装 git 插件</h3><p>进入 <code>Manage Jenkins &gt; Manage Plugins &gt; Available</code>，搜索 <strong>git plugin</strong>，勾选 “git plugin”，点击 “Install without restart” 按钮；</p>
<h2 id="创建脚本"><a href="#创建脚本" class="headerlink" title="创建脚本"></a>创建脚本</h2><h4 id="配置文件脚本"><a href="#配置文件脚本" class="headerlink" title="配置文件脚本"></a>配置文件脚本</h4><p>存放全局变量，应用名称、版本号、私钥密码、描述文件名称、账号信息等；</p>
<pre><code>config.sh

#!/bin/bash

# Standard app config
export APP_NAME=JenkinsExample
export DEVELOPER_NAME=&quot;iPhone Distribution: JinZhu Lin (9JGQ936LPE)&quot;
export PROFILE_NAME=Baidu_Distribution
export INFO_PLIST=JenkinsExample/Info.plist
export BUNDLE_DISPLAY_NAME=JenkinsExample CI

# Edit this for local testing only, DON&apos;T COMMIT it:
export ENCRYPTION_SECRET=foo
export KEY_PASSWORD=111111
export TESTFLIGHT_API_TOKEN=
export TESTFLIGHT_TEAM_TOKEN=
export HOCKEY_APP_ID=2ee4b5b87d7c47acbb398bc3cf56cda1
export HOCKEY_APP_TOKEN=549b49be50814e00b74e48322bbd2c35

# This just emulates Travis vars locally
export TRAVIS_PULL_REQUEST=false
export TRAVIS_BRANCH=master
export TRAVIS_BUILD_NUMBER=0
</code></pre><h4 id="更新编译信息"><a href="#更新编译信息" class="headerlink" title="更新编译信息"></a>更新编译信息</h4><p>原理是更新 xcode 工程的 Info.plist 文件，修改 build number、bundle identifier；</p>
<pre><code>#!/bin/bash

if [ ! -z &quot;$INFO_PLIST&quot; ]; then
  /usr/libexec/PlistBuddy -c &quot;Set :CFBundleVersion $TRAVIS_BUILD_NUMBER&quot; &quot;$INFO_PLIST&quot;
  echo &quot;Set CFBundleVersion to $TRAVIS_BUILD_NUMBER&quot;
fi

if [ ! -z &quot;$BUNDLE_IDENTIFIER&quot; ]; then
  /usr/libexec/PlistBuddy -c &quot;Set :CFBundleIdentifier $BUNDLE_IDENTIFIER&quot; &quot;$INFO_PLIST&quot;
  echo &quot;Set CFBundleIdentifier to $BUNDLE_IDENTIFIER&quot;
fi
</code></pre><h4 id="准备证书和描述文件"><a href="#准备证书和描述文件" class="headerlink" title="准备证书和描述文件"></a>准备证书和描述文件</h4><ul>
<li>执行编译和打包命令都会依赖证书和描述文件。这个步骤是导入苹果授权的证书到 keychain，并设置默认 keychain，设置 keychain 超时时间。</li>
<li>复制 provisioning profile 到系统目录 <code>~/Library/MobileDevice/Provisioning\ Profiles/</code>，必须要放到这个目录，否则打包时找不到对应的 provisioning profile。</li>
</ul>
<pre><code>#!/bin/sh

# Create a custom keychain
#security create-keychain -p jenkins ios-build.keychain

# Make the custom keychain default, so xcodebuild will use it for signing
security default-keychain -s login.keychain

# Unlock the keychain
security unlock-keychain -p jenkins login.keychain

# Set keychain timeout to 1 hour for long builds
# see http://www.egeek.me/2013/02/23/jenkins-and-xcode-user-interaction-is-not-allowed/
security set-keychain-settings -t 3600 -l ~/Library/Keychains/login.keychain

# Add certificates to keychain and allow codesign to access them
#security import ./jenkins/scripts/certs/apple.cer -k ~/Library/Keychains/login.keychain -T /usr/bin/codesign
#security import ./jenkins/scripts/certs/dist.cer -k ~/Library/Keychains/login.keychain -T /usr/bin/codesign
#security import ./jenkins/scripts/certs/dist.p12 -k ~/Library/Keychains/login.keychain -P $KEY_PASSWORD -T /usr/bin/codesign


# Put the provisioning profile in place
mkdir -p ~/Library/MobileDevice/Provisioning\ Profiles
cp &quot;./jenkins/scripts/profile/$PROFILE_NAME.mobileprovision&quot; ~/Library/MobileDevice/Provisioning\ Profiles/
</code></pre><h4 id="执行编译命令"><a href="#执行编译命令" class="headerlink" title="执行编译命令"></a>执行编译命令</h4><p>xcode 自带 xcodebuild 命令行工具，原生支持命令行编译打包，这里使用的是 Facebook 的命令行工具 xctool。</p>
<pre><code>xctool -workspace JenkinsExample.xcworkspace -scheme JenkinsExample -sdk iphoneos -configuration Release OBJROOT=$PWD/build SYMROOT=$PWD/build ONLY_ACTIVE_ARCH=NO &apos;CODE_SIGN_RESOURCE_RULES_PATH=$(SDKROOT)/ResourceRules.plist&apos;
</code></pre><h4 id="签名打包并上传到服务器"><a href="#签名打包并上传到服务器" class="headerlink" title="签名打包并上传到服务器"></a>签名打包并上传到服务器</h4><p>签名用的是 xcrun 工具，将编译好的 JenkinsExample.app 签名并输出成 JenkinsExample.ipa 文件，使用内嵌在 provisioning profile 里的 sign identifier 给 JenkinsExample.app 签名。</p>
<pre><code>#!/bin/sh
if [[ &quot;$TRAVIS_PULL_REQUEST&quot; != &quot;false&quot; ]]; then
  echo &quot;This is a pull request. No deployment will be done.&quot;
  exit 0
fi
if [[ &quot;$TRAVIS_BRANCH&quot; != &quot;master&quot; ]]; then
  echo &quot;Testing on a branch other than master. No deployment will be done.&quot;
  exit 0
fi

# Thanks @djacobs https://gist.github.com/djacobs/2411095
# Thanks @johanneswuerbach https://gist.github.com/johanneswuerbach/5559514

PROVISIONING_PROFILE=&quot;$HOME/Library/MobileDevice/Provisioning Profiles/$PROFILE_NAME.mobileprovision&quot;
OUTPUTDIR=&quot;$PWD/build/Release-iphoneos&quot;

echo &quot;***************************&quot;
echo &quot;*        Signing          *&quot;
echo &quot;***************************&quot;
xcrun -log -sdk iphoneos PackageApplication &quot;$OUTPUTDIR/$APP_NAME.app&quot; -o &quot;$OUTPUTDIR/$APP_NAME.ipa&quot; -sign &quot;$DEVELOPER_NAME&quot; -embed &quot;$PROVISIONING_PROFILE&quot;

zip -r -9 &quot;$OUTPUTDIR/$APP_NAME.app.dSYM.zip&quot; &quot;$OUTPUTDIR/$APP_NAME.app.dSYM&quot;

RELEASE_DATE=`date &apos;+%Y-%m-%d %H:%M:%S&apos;`
RELEASE_NOTES=&quot;Build: $TRAVIS_BUILD_NUMBER\nUploaded: $RELEASE_DATE&quot;

if [ ! -z &quot;$TESTFLIGHT_TEAM_TOKEN&quot; ] &amp;&amp; [ ! -z &quot;$TESTFLIGHT_API_TOKEN&quot; ]; then
  echo &quot;&quot;
  echo &quot;***************************&quot;
  echo &quot;* Uploading to Testflight *&quot;
  echo &quot;***************************&quot;
  curl http://testflightapp.com/api/builds.json \
    -F file=&quot;@$OUTPUTDIR/$APP_NAME.ipa&quot; \
    -F dsym=&quot;@$OUTPUTDIR/$APP_NAME.app.dSYM.zip&quot; \
    -F api_token=&quot;$TESTFLIGHT_API_TOKEN&quot; \
    -F team_token=&quot;$TESTFLIGHT_TEAM_TOKEN&quot; \
    -F distribution_lists=&apos;Internal&apos; \
    -F notes=&quot;$RELEASE_NOTES&quot;
fi

if [ ! -z &quot;$HOCKEY_APP_ID&quot; ] &amp;&amp; [ ! -z &quot;$HOCKEY_APP_TOKEN&quot; ]; then
  echo &quot;&quot;
  echo &quot;***************************&quot;
  echo &quot;* Uploading to Hockeyapp  *&quot;
  echo &quot;***************************&quot;
  curl https://rink.hockeyapp.net/api/2/apps/$HOCKEY_APP_ID/app_versions \
    -F status=&quot;2&quot; \
    -F notify=&quot;0&quot; \
    -F notes=&quot;$RELEASE_NOTES&quot; \
    -F notes_type=&quot;0&quot; \
    -F ipa=&quot;@$OUTPUTDIR/$APP_NAME.ipa&quot; \
    -F dsym=&quot;@$OUTPUTDIR/$APP_NAME.app.dSYM.zip&quot; \
    -H &quot;X-HockeyAppToken: $HOCKEY_APP_TOKEN&quot;
fi
</code></pre><h4 id="删除证书和描述文件"><a href="#删除证书和描述文件" class="headerlink" title="删除证书和描述文件"></a>删除证书和描述文件</h4><p>打包完毕，清理证书和描述文件，以后下次打包；</p>
<pre><code>#!/bin/sh
#security delete-keychain ios-build.keychain
rm -f ~/Library/MobileDevice/Provisioning\ Profiles/$PROFILE_NAME.mobileprovision
</code></pre><h2 id="在-Jenkins-中创建编译打包任务"><a href="#在-Jenkins-中创建编译打包任务" class="headerlink" title="在 Jenkins 中创建编译打包任务"></a>在 Jenkins 中创建编译打包任务</h2><ol>
<li>Item name 设置为 JenkinsExample；</li>
<li>Source Code Management 选 git，设置项目的 git 库地址；</li>
<li><p>Build 项下点击 “Add build step” 按钮，添加执行命令：</p>
<pre><code>. ./jenkins/config.sh

openssl aes-256-cbc -k &quot;$ENCRYPTION_SECRET&quot; -in jenkins/scripts/profile/Baidu_Distribution.mobileprovision.enc -d -a -out jenkins/scripts/profile/Baidu_Distribution.mobileprovision
openssl aes-256-cbc -k &quot;$ENCRYPTION_SECRET&quot; -in jenkins/scripts/certs/dist.cer.enc -d -a -out jenkins/scripts/certs/dist.cer
openssl aes-256-cbc -k &quot;$ENCRYPTION_SECRET&quot; -in jenkins/scripts/certs/dist.p12.enc -d -a -out jenkins/scripts/certs/dist.p12

#. ./jenkins/scripts/add-key.sh
. ./jenkins/scripts/update-bundle.sh

xctool -workspace JenkinsExample.xcworkspace -scheme JenkinsExample -sdk iphoneos -configuration Release OBJROOT=$PWD/build SYMROOT=$PWD/build ONLY_ACTIVE_ARCH=NO &apos;CODE_SIGN_RESOURCE_RULES_PATH=$(SDKROOT)/ResourceRules.plist&apos;

. ./jenkins/scripts/sign-and-upload.sh
#. ./jenkins/scripts/remove-key.sh
</code></pre></li>
<li><p>点击保存，点击“Build Now”开始执行任务；</p>
</li>
</ol>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><ul>
<li><a href="https://github.com/linjinzhu/JenkinsExample.git" target="_blank" rel="external">JenkinsExample Github 地址</a></li>
<li><a href="http://xuanyiliu.com/chixujicheng/" target="_blank" rel="external">Jenkins+GitHub+Xcode+fir搭了一个持续集成环境(解决了为什么启动时会用 jenkins 用户启动的问题)</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/02/27/Network Extension 实现私有 VPN 协议/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="柱子哥">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="柱子哥的后院">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="柱子哥的后院" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/02/27/Network Extension 实现私有 VPN 协议/" itemprop="url">
                  Network Extension 实现私有 VPN 协议
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-02-27T17:34:08+08:00">
                2016-02-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Network-Extension-实现私有-VPN-协议"><a href="#Network-Extension-实现私有-VPN-协议" class="headerlink" title="Network Extension 实现私有 VPN 协议"></a>Network Extension 实现私有 VPN 协议</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li>申请 entitlements；</li>
<li>写代码；</li>
</ol>
<h2 id="申请-entitlements"><a href="#申请-entitlements" class="headerlink" title="申请 entitlements"></a>申请 entitlements</h2><ol>
<li>向 Apple 申请 Network Extension 的 entitlements；</li>
<li>配置 entitlements</li>
<li>注意事项（保证应用和 Extension 有同样的 entitlements）；</li>
</ol>
<h2 id="写代码"><a href="#写代码" class="headerlink" title="写代码"></a>写代码</h2><ol>
<li>客户端代码</li>
<li>服务端代码</li>
</ol>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://forums.developer.apple.com/message/75928#75928" target="_blank" rel="external">Debugging Entitlement</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/01/25/搭建Markdown个人站点/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="柱子哥">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="柱子哥的后院">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="柱子哥的后院" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/25/搭建Markdown个人站点/" itemprop="url">
                  使用Jekyll搭建Markdown个人站点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-01-25T19:03:08+08:00">
                2016-01-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/jekyll-update/" itemprop="url" rel="index">
                    <span itemprop="name">jekyll update</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><p>首先，要在github上创建个人站点；其次，要在机器上安装gem；然后用gem安装jekyll；最后就是生成jekyll站点；</p>
<h3 id="详细步骤"><a href="#详细步骤" class="headerlink" title="详细步骤"></a>详细步骤</h3><h4 id="Step1：在-Github-上创建个人站点"><a href="#Step1：在-Github-上创建个人站点" class="headerlink" title="Step1：在 Github 上创建个人站点"></a>Step1：在 Github 上创建个人站点</h4><ul>
<li>github 上有详细步骤<a href="https://help.github.com/articles/creating-pages-with-the-automatic-generator/" target="_blank" rel="external">(这里)</a>。</li>
</ul>
<h4 id="Step2：安装-Jekyll"><a href="#Step2：安装-Jekyll" class="headerlink" title="Step2：安装 Jekyll"></a>Step2：安装 Jekyll</h4><ul>
<li>github 上也有详细步骤<a href="https://help.github.com/articles/using-jekyll-with-pages/" target="_blank" rel="external">(这里)</a>。</li>
</ul>
<p><code>note</code></p>
<pre><code>gem source默认是http://ruby.source.org,这个源在国内很慢，建议替换成https://ruby.taobao.com
替换方法：
$ gem sources --remove http://ruby.source.org/
$ gem sources -a https://ruby.taobao.org/

查看当前source：
$ gem sources -l
</code></pre><h4 id="Step3：生成-Jekyll站点"><a href="#Step3：生成-Jekyll站点" class="headerlink" title="Step3：生成 Jekyll站点"></a>Step3：生成 Jekyll站点</h4><pre><code>$jekyll new [YOUR-JEKYLL-SITE] # 生成站点,YOUR-JEKYLL-SITE是站点名称
</code></pre><ul>
<li><a href="http://jekyllrb.com/docs/quickstart/" target="_blank" rel="external">Jekyll Quick-start guide</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="柱子哥" />
          <p class="site-author-name" itemprop="name">柱子哥</p>
          <p class="site-description motion-element" itemprop="description">x</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">15</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">柱子哥</span>
</div>



        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
